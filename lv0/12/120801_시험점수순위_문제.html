<script>

    /*
            student배열은 이번 학기 중간고사 성적이다.
            가로 한 줄을 기준으로 맨 앞은 번호이고, 뒤에 숫자 3개는
            각각 국어, 수학, 영어 점수이다. 
    */

    let student = [
        [1001, 100, 20, 32],        
        [1002,  40, 43, 12],        
        [1003,  60, 21, 42],        
        [1004,  76, 54, 55],         
        [1005,  23, 58, 42]         
    ];



    /*
        [문제]
            세 과목의 총합을 추가하고 각 점수의 등수도 추가하시오. 
            단, 등수순으로 오름차순 출력하시오. 
            등수가 같으면 번호가큰순으로 내림차순 출력하시오.
        [정답]
            1004,76,54,55,185,1
            1001,100,20,32,152,2
            1005,23,58,42,123,3
            1003,60,21,42,123,3
            1002,40,43,12,95,5
    */

    for(let i=0;i<student.length;i++){
        let sum = student[i][1]+student[i][2]+student[i][3];
        student[i].push(sum);
    }

    for(let i=0;i<student.length;i++){
        let rank=1;
        for(let j=0;j<student.length;j++){
            if(student[i][4]<student[j][4]){
                rank++;
            }
        }
        student[i].push(rank);
    }

    student.sort((a,b) =>{
        if(a[4]<b[4]){
            return 1;
        }else if(a[4]>b[4]) {
            return -1;
        }else {
            if(a[0]<b[0]){
                return 1;
            }else if(a[0]>b[0]){
                return -1;
            } else{
                return 0;
            }
        }
    });

    for(let i=0;i<student.length;i++){
        document.write(student[i]+"<br>");
    }
  

</script>
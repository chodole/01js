<script>

    /*
        [문제]
            itemData 는상품의 정보이다.
            데이터는 순서대로 번호 , 가격 , 재고 수량이다. 

            order배열은 오늘 주문이 들어온 상품의 번호이다. 	
            단, 주문할 때마다 itemData 재고에서 하나씩 감소하고, 
            재고가 0이면 주문할 수 없다.
           
            order의 주문을 토대로 오늘 매출을 구하시오.
            재고가 변경된 itemData 도 함께 출력하시오.
            
        [정답]
            num : 1001
            price : 500
            count : 2

            num : 1002
            price : 1200
            count : 0

            num : 1003
            price : 4300
            count : 0

            num : 1004
            price : 2300
            count : 0

            total=12600
    */

    let itemData = [
        {"num":1001, "price":500, "count":3},
        {"num":1002, "price":1200, "count":1},
        {"num":1003, "price":4300, "count":2},
        {"num":1004, "price":2300, "count":1},
    ];

    let order = [1001, 1002, 1004, 1004, 1003, 1003, 1002];
    let total =0;

    for(let i=0;i<order.length;i++){
        for(let j=0;j<itemData.length;j++){
            if(order[i] == itemData[j]["num"]){
                if(itemData[j]["count"]>0){
                    itemData[j]["count"]--;
                    total+=itemData[j]["price"];
                }
            }
        }
    }

    for(let i=0;i<itemData.length;i++){
        let list = Object.keys(itemData[i]);
        for(let j=0;j<list.length;j++){
            let key = list[j];
            document.write(key+" : "+itemData[i][key]+"<br>");
        }
        document.write("<br>");
    }

    document.write("total = "+total);
    
</script>
